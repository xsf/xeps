<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE xep SYSTEM 'xep.dtd' [
  <!ENTITY % ents SYSTEM 'xep.ent'>
%ents;
]>
<?xml-stylesheet type='text/xsl' href='xep.xsl'?>
<xep>
<header>
  <title>Spam Reporting</title>
  <abstract>
    This document specifies a mechanism by which users can report spam and other
    abuse to a server operator or other spam service.
  </abstract>
  &LEGALNOTICE;
  <number>xxxx</number>
  <status>ProtoXEP</status>
  <type>Standards Track</type>
  <sig>Standards</sig>
  <approver>Council</approver>
  <dependencies>
    <spec>XMPP Core</spec>
    <spec>XMPP IM</spec>
    <spec>XEP-0191</spec>
  </dependencies>
  <supersedes/>
  <supersededby/>
  <shortname>NOT_YET_ASSIGNED</shortname>
  &sam;
  <revision>
    <version>0.0.1</version>
    <date>2016-05-21</date>
    <initials>ssw</initials>
    <remark><p>First draft.</p></remark>
  </revision>
</header>
<section1 topic='Introduction' anchor='intro'>
  <p>
    Many spam and abuse prevention techniques rely on users being able to report
    other users who are sending unwanted messages, or specific instances of
    abuse. &xep0191; allows users to block spammers, but does not provide a
    mechanism for them to report a reason for the block to the server operator.
    This specification extends the blocking command to optionally provide a
    reason.
  </p>
</section1>
<section1 topic='Payload' anchor='payload'>
  <p>
    The payload for reporting abuse to the server takes the form of a
    &lt;report/&gt; element containing an optional plaintext message, and a
    reason for the report (spam, abuse, etc.). Report payloads are reusable and
    MUST NOT be sent without first being wrapped in a stanza.
  </p>
  <example caption='The most basic report payload'><![CDATA[
<report xmlns="urn:xmpp:reporting:0" />]]></example>
  <example caption='Report with optional reason and text'><![CDATA[
<report xmlns="urn:xmpp:reporting:0">
  <text xml:lang="en">
    Never came trouble to my house like this.
  </text>
  <spam/>
</report>]]></example>
  <p>
    Abuse reports MAY include a reason for the report and servers MUST tolerate
    unknown XML elements in a report without making assumptions about the
    semantic meaning of unknown elements.
  </p>
  <p>
    This document defines the following reasons for a report:
  </p>
  <dl>
    <dt>&lt;spam/&gt;</dt>
    <dd>Used for reporting a user who is sending unwanted messages.</dd>
    <dt>&lt;abuse/&gt;</dt>
    <dd>Used for reporting general abuse.</dd>
  </dl>
</section1>
<section1 topic='Business Rules' anchor='rules'>
  <p>OPTIONAL.</p>
</section1>
<section1 topic='Implementation Notes' anchor='impl'>
  <p>OPTIONAL.</p>
</section1>
<section1 topic='Accessibility Considerations' anchor='access'>
  <p>OPTIONAL.</p>
</section1>
<section1 topic='Internationalization Considerations' anchor='i18n'>
  <p>
    If one or more &lt;text/&gt; elements are present they SHOULD include
    'xml:lang' attributes specifying the natural language of the XML character
    data.
  </p>
</section1>
  <section1 topic='Security Considerations' anchor='security'>
    <p>
      This document introduces no additional security considerations above and
      beyond those defined in the documents on which it depends.
    </p>
  </section1>
  <section1 topic='IANA Considerations' anchor='iana'>
    <p>This document requires no interaction with &IANA;.</p>
  </section1>
  <section1 topic='XMPP Registrar Considerations' anchor='registrar'>
    <section2 topic='Protocol Namespaces' anchor='registrar-ns'>
      <p>This specification defines the following XML namespace:</p>
      <ul>
        <li>urn:xmpp:reporting:0</li>
      </ul>
      <p>
        Upon advancement of this specification from a status of Experimental to
        a status of Draft, the &REGISTRAR; shall add the foregoing namespace to
        the registry located at &DISCOFEATURES;, as described in Section 4 of
        &xep0053;.
      </p>
    </section2>
    <section2 topic='Abuse Reporting Registry' anchor='registrar-reporting'>
      <p>
        The XMPP Registrar shall maintain a registry of abuse report reasons.
        All abuse report reason registrations shall be defined in separate
        specifications (not in this document). Application types defined within
        the XEP series MUST be registered with the XMPP Registrar, resulting in
        protocol URNs of the form "urn:xmpp:reporting:reason:name:X" (where
        "name" is the registered name of the profile and "X" is a non-negative
        integer).
      </p>
      &REGPROCESS;
      <code>
<![CDATA[<profile>
  <name>The name of the abuse report reason.</name>
  <desc>A natural-language summary of the reason.</desc>
  <doc>
    The document in which the report reason is specified.
  </doc>
</profile>]]></code>
    </section2>
    <section2 topic='Abuse Reporting Reasons' anchor='registrar-reasons'>
      <p>This specification defines the following abuse reporting reasons:</p>
      <ul>
        <li>urn:xmpp:reporting:reason:spam:0</li>
        <li>urn:xmpp:reporting:reason:abuse:0</li>
      </ul>
      <p>
        Upon advancement of this specification from a status of Experimental to
        a status of Draft, the &REGISTRAR; shall add the following definition to
        the abuse reporting reasons registry, as described in this document:
        <code><![CDATA[<profile>
  <name>Spam</name>
  <urn>urn:xmpp:reporting:reason:spam:0</urn>
  <desc>User was sending spam messages.</desc>
  <doc>XEP TODO</doc>
</profile>]]></code>
        <code><![CDATA[<profile>
  <name>Abuse</name>
  <urn>urn:xmpp:reporting:reason:abuse:0</urn>
  <desc>User was sending some form of abusive payload that is not more specifically defined.</desc>
  <doc>XEP TODO</doc>
</profile>]]></code>
      </p>
    </section2>
  </section1>
  <section1 topic='XML Schema' anchor='schema'>
    <p>TODO</p>
  </section1>
</xep>
