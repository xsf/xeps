<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE xep SYSTEM 'xep.dtd' [
  <!ENTITY % ents SYSTEM 'xep.ent'>
  <!ENTITY namespace "urn:xmpp:jingle:apps:category:0">
  <!ENTITY rfc4796 "<span class='ref'><link url='http://tools.ietf.org/html/rfc4796'>RFC 4796</link></span> <note>RFC 4796: The Session Description Protocol (SDP) Content Attribute &lt;<link url='http://tools.ietf.org/html/rfc4796'>http://tools.ietf.org/html/rfc4796</link>&gt;.</note>" >
%ents;
]>
<?xml-stylesheet type='text/xsl' href='xep.xsl'?>
<xep>
    <header>
        <title>Jingle Content Category</title>
        <abstract>This specification defines an XMPP extension to negotiate the use of Session Description Protocol (SDP) media-
   level attribute 'content' as defined by RFC 4796 with Jingle RTP sessions</abstract>
        &LEGALNOTICE;
        <number>xxxx</number>
        <status>ProtoXEP</status>
        <type>Standards Track</type>
        <sig>Standards</sig>
        <approver>Council</approver>
        <dependencies>
            <spec>XMPP Core</spec>
            <spec>XEP-0001</spec>
            <spec>XEP-0166</spec>
            <spec>XEP-0167</spec>
            <spec>RFC 4796</spec>
        </dependencies>
        <supersedes/>
        <supersededby/>
        <shortname>NOT_YET_ASSIGNED</shortname>
        &edhelas;
        <revision>
            <version>0.0.1</version>
            <date>2025-09-19</date>
            <initials>psa</initials>
            <remark>
                <p>First draft.</p>
            </remark>
        </revision>
    </header>
    <section1 topic='Introduction' anchor='intro'>
        <p>The &xep0167; already defines a way to map SDP medias to Jingle RTP sessions. This mapping is also defined through several other XEPs. Jingle allows several medias to be negotiated through 'content' elements, each content is mapped to one specific SDP media. When negotiating a Jingle sessions some of its content can be similar in the sense that their medias cannot be distinguished just by examining their description lines (e.g., two video streams).</p>
        <p>This document defines a new element 'category', based on the &rfc4796; SDP 'content' attribute, that allows applications to treat each of those contents differently.</p>
    </section1>
    <section1 topic='Protocol' anchor='protocol'>
        <p>When an entity wishes to negotiate a new Jingle 'content' in a session it may want to categorize that content to help the other entities to understand how they should display it and adapt their interface in an appropriate manner.</p>

        <p>For example, if a user wants to share simultaneously its webcam and screen with a contact the applications involved may want to automatically adapt their interface to display those different types of content accordingly, e.g., putting the screencast in full-screen and displaying the contact's webcam in the corner.</p>

        <p>To categorize accordingly those different kinds of contents each entity SHOULD add one or several &lt;category/&gt; elements in the &lt;description/&gt; section qualified by the '&namespace;' having a 'name' attribute that MUST map to the &rfc4796; SDP 'content' attribute.</p>

        <table caption="The category 'name' attribute values as defined from the RFC 4796">
            <tr>
                <td>
                    <strong>Name</strong>
                </td>
                <td>
                    <strong>Description</strong>
                </td>
            </tr>
            <tr>
                <td>slides</td>
                <td>The media stream includes presentation slides</td>
            </tr>
            <tr>
                <td>speaker</td>
                <td>The media stream contains the image of the speaker</td>
            </tr>
            <tr>
                <td>sl</td>
                <td>The media stream contains sign language</td>
            </tr>
            <tr>
                <td>main</td>
                <td>The media stream is taken from the main source</td>
            </tr>
            <tr>
                <td>alt</td>
                <td>The media stream is taken from the alternative source</td>
            </tr>
        </table>
    </section1>

    <section1 topic='Mapping to Session Description Protocol' anchor='sdp'>
        <p>The SDP extract bellow.</p>

        <code>
v=0
o=Stuart 292742730 29277831 IN IP4 138.143.71.89
s=Showing of my skills
c=IN IP4 138.143.71.2
t=0 0
m=video 52886 RTP/AVP 31
a=rtpmap:31 H261/9000
a=content:slides,alt
m=video 53334 RTP/AVP 31
a=rtpmap:31 H261/9000
a=content:speaker
m=video 54132 RTP/AVP 31
a=rtpmap:31 H261/9000
a=content:sl
        </code>

        <p>Should then map to:</p>

            <example caption='Server return the list of bookmarks'><![CDATA[
<iq from='stuart@studio.org/main'
    id='rg6s5134'
    to='noodle@home.tld/living'
    type='set'>
  <jingle xmlns='urn:xmpp:jingle:1'
          action='session-initiate'
          initiator='stuart@studio.org/main'
          sid='a73sjjvkla37jfea'>
    <content creator="initiator" name='video0'>
        <transport xmlns="urn:xmpp:jingle:transports:ice-udp:1"/>
        <description xmlns="urn:xmpp:jingle:apps:rtp:1" media="video">
            <category xmlns=']]>&namespace;<![CDATA[' name='slides'/>
            <category xmlns=']]>&namespace;<![CDATA[' name='alt'/>
            <payload-type id="31" name="H261" clockrate="9000"/>
        </description>
    </content>
    <content creator="initiator" name='video1'>
        <transport xmlns="urn:xmpp:jingle:transports:ice-udp:1"/>
        <description xmlns="urn:xmpp:jingle:apps:rtp:1" media="video">
            <category xmlns=']]>&namespace;<![CDATA[' name='speaker'/>
            <payload-type id="31" name="H261" clockrate="9000"/>
        </description>
    </content>
    <content creator="initiator" name='video2'>
        <transport xmlns="urn:xmpp:jingle:transports:ice-udp:1"/>
        <description xmlns="urn:xmpp:jingle:apps:rtp:1" media="video">
            <category xmlns=']]>&namespace;<![CDATA[' name='sl'/>
            <payload-type id="31" name="H261" clockrate="9000"/>
        </description>
    </content>
  </jingle>
</iq>
]]></example>
    </section1>
    <section1 topic='Requirements' anchor='reqs'>
        <p>The motivations for this document are to:</p>
        <ul>
            <li>Allow entities to map &rfc4796; to Jingle when initiating or answering a session</li>
            <li>Allow applications to categorize Jingle contents medias and adapt their interface accordingly</li>
        </ul>
    </section1>
    <section1 topic='Security Considerations' anchor='security'>
        <p>Related to the XEPs using this document.</p>
    </section1>
    <section1 topic='IANA Considerations' anchor='iana'>
        <p>This document requires no interaction with &IANA;.</p>
    </section1>
    <section1 topic='XMPP Registrar Considerations' anchor='registrar'>
        <p>The &REGISTRAR; is requested to issue an initial namespace of "&namespace;".</p>
    </section1>
    <section1 topic='XML Schema' anchor='schema'>
  <code><![CDATA[
<?xml version='1.0' encoding='UTF-8'?>

<xs:schema
    xmlns:xs='http://www.w3.org/2001/XMLSchema'
    targetNamespace=']]>&namespace;<![CDATA['
    xmlns=']]>&namespace;<![CDATA['
    elementFormDefault='qualified'>

  <xs:element name='category'>
    <xs:complexType>
      <xs:attribute name='name'>
        <xs:restriction base='xs:NCName'>
          <xs:enumeration value='slides'/>
          <xs:enumeration value='speaker'/>
          <xs:enumeration value='sl'/>
          <xs:enumeration value='main'/>
          <xs:enumeration value='alt'/>
        </xs:restriction>
      </xs:attribute>
    </xs:complexType>
  </xs:element>
</xs:schema>
]]></code>
    </section1>
</xep>
